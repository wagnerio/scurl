# .gitignore Summary

## What's Protected

### ðŸ” Secrets & Configuration
```
config.toml          # API keys (CRITICAL - never commit!)
.scurl/              # Config directory in project
.env                 # Environment variables
.env.local           # Local environment overrides
*.key                # Key files
*.pem                # Certificate files
```

### ðŸ—ï¸ Build Artifacts
```
/target/             # Cargo build output
Cargo.lock           # Lock file (for libraries)
*.rs.bk              # Backup files
*.pdb                # Debug symbols
*.dSYM/              # macOS debug symbols
*.so, *.dylib, *.dll # Compiled libraries
```

### ðŸ’» IDE & Editor Files
```
.idea/               # IntelliJ/CLion
.vscode/             # VS Code
*.swp, *.swo         # Vim
*~                   # Emacs
.DS_Store            # macOS Finder
.AppleDouble         # macOS resource forks
```

### ðŸ§ª Testing & Development
```
/test/               # Test output directory
/tests/output/       # Test results
*.test.sh            # Test scripts
test-*.sh            # Test script pattern
/scratchpad/         # Temporary workspace
/tmp/                # Temporary files
.cache/              # Cache directory
```

### ðŸ“ Logs & Debug
```
*.log                # Log files
debug/               # Debug output
*.prof               # Profiling data
```

### ðŸ”§ Tools & Local Config
```
.claude/settings.local.json  # Claude Code local settings
```

### ðŸ“¦ Temporary Files
```
*.tmp, *.temp        # Temporary files
*.bak, *.backup      # Backup files
```

### ðŸ“š Documentation Builds
```
/site/               # MkDocs output
/book/               # mdBook output
```

## Important Reminders

### âš ï¸ CRITICAL: API Keys
Your `~/.scurl/config.toml` contains API keys:
```toml
provider = "xai"
api_key = "xai-xxxxxxxxxxxxx"  # âš ï¸ KEEP SECRET!
```

**Security checklist:**
- âœ… Config is in home directory (`~/.scurl/`)
- âœ… Project-level `config.toml` is gitignored
- âœ… `.scurl/` directory is gitignored
- âœ… Test configs are gitignored
- âš ï¸ Always check before `git add`!

### ðŸ›¡ï¸ Before Committing
```bash
# Check what will be committed
git status

# Check for secrets
git diff --cached | grep -i "key\|secret\|token\|password"

# Verify .gitignore is working
git check-ignore -v config.toml
# Should output: .gitignore:20:config.toml	config.toml
```

### ðŸ” Verify Protection
```bash
# These should be ignored (exit code 0):
git check-ignore config.toml           # âœ“ Ignored
git check-ignore .scurl/config.toml    # âœ“ Ignored
git check-ignore test/output.log       # âœ“ Ignored

# These should NOT be ignored (exit code 1):
git check-ignore README.md             # âœ— Not ignored (correct)
git check-ignore src/main.rs           # âœ— Not ignored (correct)
```

## What to Commit

### âœ… Safe to Commit
- Source code (`src/**/*.rs`)
- Documentation (`*.md`)
- Configuration templates (`.env.example`)
- Build scripts (`Makefile`, `build.rs`)
- Tests (without output)
- Examples (`examples/*.sh`)
- License, README, etc.

### âŒ NEVER Commit
- `config.toml` with API keys
- `.env` with secrets
- Compiled binaries (`target/`)
- API keys in any form
- Personal test scripts with credentials
- Log files with sensitive data

## Quick Reference

### Add to .gitignore
```bash
echo "my-secret-file.txt" >> .gitignore
```

### Check if file is ignored
```bash
git check-ignore -v path/to/file
```

### Remove accidentally committed file
```bash
# If you committed secrets (DO THIS IMMEDIATELY):
git rm --cached config.toml
git commit -m "Remove config with secrets"

# Then rotate your API keys!
scurl login  # Generate new keys first
```

### View what's ignored
```bash
git status --ignored
```

## Emergency: Secrets Committed!

If you accidentally committed API keys:

### 1. Immediate Action
```bash
# Remove from git (but keep local copy)
git rm --cached config.toml
git commit -m "Remove config file"
git push --force  # âš ï¸ Use carefully!
```

### 2. Rotate ALL Keys
```bash
# Revoke compromised keys at:
# - Anthropic: https://console.anthropic.com
# - xAI: https://console.x.ai
# - OpenAI: https://platform.openai.com

# Generate new keys and reconfigure
scurl login
```

### 3. Clean Git History (if needed)
```bash
# For recent commits
git reset --soft HEAD~1  # Undo last commit
git reset HEAD config.toml  # Unstage file

# For deeper history (USE WITH CAUTION!)
# Consider using git-filter-repo or BFG Repo-Cleaner
```

### 4. Verify Clean
```bash
# Check remote doesn't have secrets
git log -p --all | grep -i "api_key\|xai-\|sk-ant"
```

## Additional Security

### File Permissions
```bash
# Secure your local config
chmod 600 ~/.scurl/config.toml

# Verify
ls -la ~/.scurl/config.toml
# Output: -rw------- (only you can read/write)
```

### Pre-commit Hook (Optional)
```bash
cat > .git/hooks/pre-commit << 'HOOK'
#!/bin/bash
# Prevent committing secrets

if git diff --cached | grep -qE "sk-ant-|xai-|sk-proj-|api_key.*="; then
    echo "âš ï¸  ERROR: Possible API key detected in commit!"
    echo "Please remove secrets before committing."
    exit 1
fi
HOOK

chmod +x .git/hooks/pre-commit
```

---

**Remember: When in doubt, don't commit!** ðŸ›¡ï¸
